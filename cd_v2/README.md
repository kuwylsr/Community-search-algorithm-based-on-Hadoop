> 该包实现社区发现的第二个算法-PCPM算法

### 算法原理

​	PCPM算法是采用派系过滤的一种社区发现算法, 它与PSCAN算法不同, 它是一种重叠社区的发现算法, 因此算法的执行结果是一些列可能相互重叠甚至相互包含的社区结果. 

​	PCPM算法的基本原理为首先通过寻找网络中的极大完全子图, 然后利用这些完全子图来寻找K-派系的连通子图(即 K-派系社区), 不同的K值对应不同的社区结构. 找到所有的K-派系社区之后, 就可以判断每两个K-派系社区指向的共享节点的数目是否大于等K-1, 以此来得到K-派系连接社区.

​	当设计成并行程序时, CPM算法可以分为三个阶段来进行, 三个阶段分别是 : 寻找极大完全子图, 寻找K派系社区, 寻找所有的K派系连接社区.

### 算法核心

​	<1> 寻找极大完全子图阶段:

- Map函数:

  - 输入的key值 : 文件的偏移量
  - 输入的value值 : 文件中每一行的内容(node : neighbors的形式)
  - 输出的key值 : node的邻居中的某个节点
  - 输出的value值 : 以"node:neighbors"的形式进行输出,其中neighbors中不包含key值

  > Map 函数利用图中的邻接表的信息进行处理来输出键值对，其中输出键值对的 key 值为邻居节点的某一节点，value 值为该行文件的内容即一个节点的邻接表信息.

- Reduce函数:

  - 输入的key值 : node邻居中的某个节点
  - 输出的value值 : node:neighbors"的形式,其中neighbors中不包含key值的迭代器
  - 输出的key值 : null
  - 输出的value值 : 图中的最有最大完全子图(子图中的顶点个数大于等于3)

  > reduce 函数掌握了某个节点、其邻居节点以及邻居节点的邻居节点的所有信息，然后函数利用回溯法从目标节点出发，按一定的策略（在此选取在根节点的邻居中与其他邻居邻接最多的节点进行搜索的策略）进行搜索建立解空间树，递归搜索满足约束条件的解，解空间即为所有的极大完全子图。

  

​	<2> 寻找K派系社区阶段 (此阶段是K派系连接阶段的预处理阶段)

- Map函数:

  - 输入的key值 : 文件内容的偏移量
  - 输入的value值 : 文件的一行内容(图中的极大完全子图(派系))
  - 输出的key值 : 某个派系中的最小值的点
  - 输出的value值 : 那个点所在的派系

  > Map 函数利用上一步已经找到的所有极大完全子图来进行划分任务，将任务变为键值对的形式，map 函数的划分规则为找到完全子图中的的最
  > 小值点作为之后进行合并的 key 值，value 值为对应的完全子图的信息.

- Reduce函数:

  - 输入的key值 : 某几个派系中的公共最小点
  - 输出的value值 : 包含key的所有派系
  - 输出的key值 : 合并后的派系的ID
  - 输出的value值 : 合并后的派系

  >Reduce 函数将由 mapper 任务讲过 shuffle 过程传递过来的键值对进行处理，其中 key 值为某个最小值节点，value 值为包含这个最小值节点的所有完全子图。然后利用 K 派系连接原则，计算这些完全子图中满足公共节点数目大于最小集合数目-1 的集合将其进行合并，（注意在此
  >处并没有使用严格意义上的 K-1 条件来进行派系合并，因为此步骤是 K 派系连接阶段的预处理步骤，存在很多的极大完全子图点的数量很小，因此需要先将这一部分顶点进行处理，而对于那些已经存在了的很大的完全子图来说，在 min-1 的条件下很难进行合并，因此可以通过等待一轮，在第三步进行 K-1 派系合并）。最后输出所有合并后的派系。

​	<3> 寻找所有K派系连接社区阶段

- Map函数:

  - 输入的key值 : 文件内容的偏移量
  - 输入的value值 : 文件中的一行内容(CliqueID+"\t"+派系的内容)
  - 输出的key值 : 派系中的某个顶点
  - 输出的value值 : CliqueID+"\t"+派系的内容

  > Map 函数读入已经进过第二步预处理后的所有 K 派系社区，派系数量已经大大减少，以此 Map 函数将每个派系中的每个点做为 key 值，派系内容作为 value 值进行 shuffle 过程。

- Reduce函数:

  - 输入的key值 : 派系中的某个顶点
  - 输出的value值 : 包含这个顶点的所有派系(CliqueID+"\t"+派系的内容)的格式
  - 输出的key值 : null
  - 输出的value值 : 能合并的两个派系的ID

  > Reduce 函数对所有包含某个公共节点的派系进行合并检查，判断是否其中某些社区满足公共节点数目大于等于为 K-1 的要求，若满足，则输出可
  > 以合并的信息。最后 Reduce 函数输出了所有可以进行合并的派系的序号.

### 核心代码

- `Executor.java`

  算法执行器

- `FScoreIndex.java`

  计算性能评价指标的程序

- `HandleData.java`

  处理算法输出结果的程序

- `Clique_Mapper.java`

  寻找极大完全子图的map函数实现

- `Clique_Reducer.java`

  寻找极大完全子图的reduce函数实现

- `KMerge_Mapper.java`

  寻找K派系社区的map函数实现

- `KMerge_Reducer.java`

  寻找K派系社区的reduce函数实现

- `KAllCombined_Mapper.java`

  寻找所有K派系连接社区的map函数实现

- `KAllCombined_Reducer.java`

  寻找所有K派系连接社区的reduce函数实现

### 其他代码

- `package-info.java`

  该包说明