# 大规模数据图上的多源特定属性的社区查找项目

## 问题描述

给定网络图G（顶点带有属性信息）、顶点集合 $Q_V$ 和属性集合 $Q_A$ ，特定属性的社区查找的目标是挖掘出网络图中包含 $Q_V$ 且具有 $Q_A$ 属性特征的社区结构。特定属性的社区查找能很好地处理用户的个性化需求，帮助用户找寻所需的社区结构。不过，需要注意的是，若用户同时想查找多个社区结构或多个用户同时想查找各自所需的社区结构，面对这种多源的特定属性的社区查找问题，现有的特定属性的社区查找算法只能一个个按顺序处理，这种串行处理方式很费时并不实用，因此，基于分布式的多源的特定属性的社区查找算法研究就显得非常迫切和重要。

## 社区

首先, 我们给出社区的定义.

在社交网络中，用户相当于每一个点，用户之间通过互相的关注关系构成了整个网络的结构，在这样的网络中，有的用户之间的连接较为紧密，有的用户之间的连接关系较为稀疏，在这样的网络中，连接较为紧密的部分可以被看成一个社区，其内部的节点之间有较为紧密的连接，而在两个社区间则相对连接较为稀疏，这便称为 **社区结构**。网络图中的社区结构反映了网络中的个体行为的局部性特征以及其相互之间的关联关系，研究网络中的社区对理解整个网络的结构和功能起到至关重要的作用，并且可帮助我们分析及预测整个网络各元素间的交互关系。

## 问题抽象

该问题可以抽象为两个部分即 : 社区发现 和 社区查找

> community detection + community search

- community detection : 需要设计算法来挖掘大规模图中的所有社区结构
- community search : 需要在已有的社区结构中根据条件进行快速查找

> 由于该问题涉及大规模图数据, 因此需要设计出一种基于分布式的多源特定属性的社区查找算法.

## 数据集

实验数据 : SNAP（Stanford Network Analysis Project）中的 Orkut 大规模数据图.

Orkut 数据集链接 : http://snap.stanford.edu/data/

| Data Set | Source                                          | Info              |
| -------- | :---------------------------------------------- | ----------------- |
| club     | 第三方                                          | 空手道俱乐部      |
| dolphin  | 第三方                                          | 海豚群落          |
| football | 第三方                                          | 足球俱乐部        |
| science  | 第三方                                          | 世界科学家分布    |
| Orkut10  | SNAP中的Orkut大规模图Top5000社区中随机抽取10个  | Orkut大规模图抽样 |
| Orkut50  | SNAP中的Orkut大规模图Top5000社区中随机抽取50个  | Orkut大规模图抽样 |
| Orkut100 | SNAP中的Orkut大规模图Top5000社区中随机抽取100个 | Orkut大规模图抽样 |
| Orkut500 | SNAP中的Orkut大规模图Top5000社区中随机抽取500个 | Orkut大规模图抽样 |

数据集属性

| Data Set | Vertex_num | Edge_num | Lines_num | info           |
| -------- | ---------- | -------- | --------- | -------------- |
| club     | 34         | 154      | 78        | 一条无向边     |
| dolphin  | 62         | 318      | 159       | 一条无向边     |
| football | 115        | 1226     | 613       | 一条无向边     |
| science  | 1461       | 5484     | 2742      | 一条无向边     |
| Orkut10  | 1064       | 22696    | 1064      | 一个邻接表表项 |
| Orkut50  | 8129       | 225468   | 8129      | 一个邻接表表项 |
| Orkut100 | 24044      | 770600   | 24044     | 一个邻接表表项 |
| Orkut500 | 106855     | 3968220  | 106855    | 一个邻接表表项 |

## 算法性能测试指标

F-Score 指标:
$$
F_{Score} = (1 + \beta^2) * \frac{Precision * Recall}{\beta^2 * Precision + Recall}
$$
其中, Precision 为准确率, Recall 为召回率, $\beta$ 用于调整召回率和召回率对指标的影响程度. (由于实验是一个多类别的问题, 所以相关指标的计算通过一对多的方式进行拆分, 即把某一个社区中的点看为正例, 其余全部看为反例, 然后依次将每个社区都轮流当成正例, 最后求得指标的均值).

## 项目结构

> 核心算法文件说明详见内部文件夹

- `DataSet`

  数据集(由于上传大小的限制, 只上传了部分较小的数据集)

- `GephiFile` 以及 `OutGephiData`

  用于可视化的输出结果文件.

- `result`

  程序输出结果

- `convectFile` 

  数据预处理

- `cd_v1` 

  社区发现算法1, PSCAN算法(并行形式)

- `cd_v2` 

  社区发现算法2, PCPM算法(并行形式)

- `cs_v1` 

  社区查找算法, IICS算法

- `core-site.xml` 

  特定的hadoop属性配置文件

- `hdfs-site.xml`

  特定的HDFS属性配置文件

- `mapred-site.xml`

  特定的mapreduce属性配置文件

- `log4j.properties`

  日志配置文件

- `report`

  项目报告以及系统配置说明